<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Contact Form</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, textarea { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
        .error { color: red; font-size: 12px; margin-top: 5px; }
        .success { color: green; font-size: 14px; margin-top: 10px; }
        button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        .debug { background: #f8f9fa; padding: 10px; border-radius: 4px; margin-top: 10px; font-family: monospace; font-size: 12px; }
    </style>
</head>
<body>
    <h1>Debug Contact Form</h1>
    <p>This form has the same validation as your live site. Use it to test what's wrong.</p>
    
    <form id="contactForm">
        <div class="form-group">
            <label for="name">Full Name *</label>
            <input type="text" id="name" name="name" required>
            <div class="error" id="nameError"></div>
        </div>
        
        <div class="form-group">
            <label for="email">Email Address *</label>
            <input type="email" id="email" name="email" required>
            <div class="error" id="emailError"></div>
        </div>
        
        <div class="form-group">
            <label for="phone">Phone Number *</label>
            <input type="tel" id="phone" name="phone" required>
            <div class="error" id="phoneError"></div>
        </div>
        
        <div class="form-group">
            <label for="businessName">Company Name *</label>
            <input type="text" id="businessName" name="businessName" required>
            <div class="error" id="businessNameError"></div>
        </div>
        
        <div class="form-group">
            <label for="message">Message * (minimum 20 characters)</label>
            <textarea id="message" name="message" rows="5" required></textarea>
            <div class="error" id="messageError"></div>
        </div>
        
        <button type="submit" id="submitBtn">Send Message</button>
    </form>
    
    <div id="success" class="success" style="display: none;"></div>
    <div id="debug" class="debug" style="display: none;"></div>

    <script>
        // Same validation functions as your live site
        function validateEmail(email) {
            if (!email || email.trim() === '') {
                return { isValid: false, error: 'Email address is required' };
            }
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                return { isValid: false, error: 'Please enter a valid email address' };
            }
            return { isValid: true };
        }

        function validateRequired(value, fieldName) {
            if (!value || value.trim() === '') {
                return { isValid: false, error: `${fieldName} is required` };
            }
            if (value.trim().length < 2) {
                return { isValid: false, error: `${fieldName} must be at least 2 characters` };
            }
            return { isValid: true };
        }

        function validatePhone(phone) {
            if (!phone || phone.trim() === '') {
                return { isValid: false, error: 'Phone number is required' };
            }
            const digitsOnly = phone.replace(/\D/g, '');
            if (digitsOnly.length < 10) {
                return { isValid: false, error: 'Phone number must be at least 10 digits' };
            }
            return { isValid: true };
        }

        function validateMessage(message, minLength = 10) {
            if (!message || message.trim() === '') {
                return { isValid: false, error: 'Message is required' };
            }
            if (message.trim().length < minLength) {
                return { 
                    isValid: false, 
                    error: `Message must be at least ${minLength} characters (currently ${message.trim().length})` 
                };
            }
            return { isValid: true };
        }

        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Clear previous errors
            document.querySelectorAll('.error').forEach(el => el.textContent = '');
            document.getElementById('success').style.display = 'none';
            document.getElementById('debug').style.display = 'none';
            
            // Get form data
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                businessName: document.getElementById('businessName').value,
                message: document.getElementById('message').value
            };
            
            // Validate all fields (same as live site)
            const validationErrors = {};
            
            // Name validation
            const nameResult = validateRequired(formData.name, 'Name');
            if (!nameResult.isValid) validationErrors.name = nameResult.error;
            
            // Email validation
            const emailResult = validateEmail(formData.email);
            if (!emailResult.isValid) validationErrors.email = emailResult.error;
            
            // Phone validation
            const phoneResult = validatePhone(formData.phone);
            if (!phoneResult.isValid) validationErrors.phone = phoneResult.error;
            
            // Business name validation
            const businessResult = validateRequired(formData.businessName, 'Company name');
            if (!businessResult.isValid) validationErrors.businessName = businessResult.error;
            
            // Message validation (20 characters minimum - same as live site)
            const messageResult = validateMessage(formData.message, 20);
            if (!messageResult.isValid) validationErrors.message = messageResult.error;
            
            // Show errors
            Object.keys(validationErrors).forEach(field => {
                document.getElementById(field + 'Error').textContent = validationErrors[field];
            });
            
            // Debug info
            const debugInfo = {
                formData: formData,
                validationErrors: validationErrors,
                hasErrors: Object.keys(validationErrors).length > 0,
                messageLength: formData.message.trim().length,
                phoneDigits: formData.phone.replace(/\D/g, '').length
            };
            
            document.getElementById('debug').innerHTML = JSON.stringify(debugInfo, null, 2);
            document.getElementById('debug').style.display = 'block';
            
            // If no errors, show success
            if (Object.keys(validationErrors).length === 0) {
                document.getElementById('success').textContent = '✅ Form validation passed! This would submit successfully.';
                document.getElementById('success').style.display = 'block';
            } else {
                document.getElementById('success').textContent = '❌ Form has validation errors. Check the debug info below.';
                document.getElementById('success').style.display = 'block';
            }
        });
    </script>
</body>
</html>
